<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <script>

        function quebraStringEmMatrizSudoku() {
            var linha = 0
            for (var i = 0; i < textoSudoku.length; i++) {
                mapaSudoku[linha][mapaSudoku[linha].length] = textoSudoku[i]
                if (mapaSudoku[linha].length == 9 && linha < 8) {
                    linha = linha + 1;
                    mapaSudoku[linha] = [];
                }
            }
        }

        function gerarNumeroAleatorio(min, max) {
            return parseInt(Math.random() * (max - min) + min);
        }


        function contaQuantidadeDeErros(p_sudoku) {
            let erros = 0;
            for (var i = 0; i < p_sudoku.length; i++) {
                erros += contaQuantidadeErrosLinha(p_sudoku[i]) 
            }

            return erros
        }

        function contaQuantidadeErrosLinha(p_linha) {
            let erros = 0;
            for (var i = 1; i <= 9; i++) {
                let quantidadeNumeroRepetidos  = p_linha.filter(function (a) { a == 1}).length
                if (quantidadeNumeroRepetidos > 0) {
                    erros += quantidadeNumeroRepetidos - 1;
                }
                
            }
           
            return erros
        }



        function contaQuantidadeErrosColuna() {
            let erros = 0;


            return erros
        }




         function contaQuantidadeErrosQuadrante() {
            let erros = 0;


            return erros
        }

        var textoSudoku = "900000001051200030000980000680740000730000908010058670008100000002007090190004060";
        var mapaSudoku = [];
        mapaSudoku[0] = [];
        quebraStringEmMatrizSudoku();
        for (var i = 0; i < mapaSudoku.length; i++) {
            for (var j = 0; j < mapaSudoku[i].length; j++) {
                if (mapaSudoku[i][j] == 0) {
                    mapaSudoku[i][j] = gerarNumeroAleatorio(1, 9)
                }
            }
        }


        var quantidadeErros = contaQuantidadeDeErros(mapaSudoku)


        console.log(quantidadeErros)

    </script>
</body>
</html>